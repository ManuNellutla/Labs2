# src/code_analyzer/queries/python.yaml

modes:
  imports: |
    (import_statement
      name: (dotted_name (identifier) @module)
    )
    (import_from_statement
      module_name: (dotted_name (identifier) @module)
    )
    (import_statement
      name: (aliased_import
        alias: (identifier) @alias)
    )
    (import_from_statement
      name: (aliased_import
        alias: (identifier) @alias)
    )
  functions: |
    (function_definition
      name: (identifier) @function
    )
  calls: |
    (call
      function: (identifier) @call
    )
    (call
      function: (attribute attribute: (identifier) @method.call)
    )
  call_graph: | 
    (function_definition
      name: (identifier) @function.def
      body: (block) @function.block
    )
    (call
      function: (identifier) @function.call
      arguments: (argument_list) @function.args
    )
  function_and_block: |
    (function_definition
      name: (identifier) @function.def
      body: (block) @function.block
    )
  function_call: |
    (call
      function: (identifier) @function.call
      arguments: (argument_list) @function.args
    )